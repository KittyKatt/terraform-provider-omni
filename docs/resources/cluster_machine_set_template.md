---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "omni_cluster_machine_set_template Resource - omni"
subcategory: ""
description: |-
  Omni cluster machine set template definition.
---

# omni_cluster_machine_set_template (Resource)

Omni cluster machine set template definition.

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.

resource "omni_cluster_machine_set_template" "example" {
  name = "my-cluster-workers"
  kind = "worker"
  labels = {
    "beep" = "boop"
  }
  annotations = {
    "example.io/example" = "beep-boop"
  }
  machines = [
    "00000000-0000-0000-0000-000000000000",
    "11111111-1111-1111-1111-111111111111",
  ]
  patches = [
    {
      id_override = "my-cluster-workers-configpatch.yaml"
      annotations = {
        "name" = "my-cluster-workers"
      }
      inline = <<EOT
        machine:
          features:
            kubernetesTalosAPIAccess:
              allowedKubernetesNamespaces:
                - default
              allowedRoles:
                - os:etcd:backup
              enabled: true
        EOT
    }
  ]
  system_extensions = [
    "siderolabs/util-linux-tools"
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `kind` (String) Kind of Omni machine set.
- `machines` (List of String) List of machines belonging to machine set.

### Optional

- `annotations` (Map of String) Labels to add to the machine.
- `labels` (Map of String) Labels to add to the machine.
- `name` (String) Name (ID) of the machine. Only required on Worker machine sets.
- `patches` (Attributes List) Machine-specific patches. (see [below for nested schema](#nestedatt--patches))
- `system_extensions` (List of String) List of system extensions installed to machine.

### Read-Only

- `created_at` (String)
- `id` (String) Name (ID) of cluster.
- `last_updated` (String)
- `yaml` (String) Rendered YAML cluster machine template.

<a id="nestedatt--patches"></a>
### Nested Schema for `patches`

Optional:

- `annotations` (Map of String) The annotations of the patch.
- `file` (String) The file path to use as input for the patch.
- `id_override` (String) The name (ID) of the patch.
- `inline` (String) The inline patch as YAML.
- `labels` (Map of String) The labels of the patch.
