---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "omni_machine_status Data Source - omni"
subcategory: ""
description: |-
  Provides a list of Omni machine statuses.
---

# omni_machine_status (Data Source)

Provides a list of Omni machine statuses.

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.

# Example shown filters to machiens that currently don't belong to a cluster
data "omni_machine_status" "example_1" {
  filters = {
    cluster = ""
  }
}

# Example show filters to machiens that have eight cpu cores and belong
# to no cluster
data "omni_machine_status" "example_2" {
  filters = {
    cluster = ""
    labels = {
      "omni.sidero.dev/cores" = "8"
    }
  }
}

# Example shown filters to machines that belong to the cluster "my-cluster",
# are connected currently, and are a control plane node
data "omni_machine_status" "example_3" {
  filters = {
    cluster   = "my-cluster"
    connected = true
    role      = "controlplane"
  }
}

# Example shown filters to machines that belong to the cluster "my-cluster",
# are connected currently, and are a worker node
data "omni_machine_status" "example_4" {
  filters = {
    cluster   = "my-cluster"
    connected = true
    role      = "worker"
  }
}

# Example shown filters to machines that are currently connected and have the
# image labels "homelab:my-homelab" and "beep:boop"
data "omni_machine_status" "example_5" {
  filters = {
    connected = true
    image_labels = [
      "homelab:my-homelab",
      "beep:boop"
    ]
  }
}

# Output below shows outputting the machine-id of all machines identified in
# example_5
output "omni_machines_example_5" {
  value = data.omni_machine_status.example_5.machines[*].id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `filters` (Attributes) Filters to apply when retrieving machines. If not specified, all machines will be returned. (see [below for nested schema](#nestedatt--filters))

### Read-Only

- `machines` (List of Object) A list of machine statuses. Each machine status contains detailed information about the machine, including its hardware, network, and management details. (see [below for nested schema](#nestedatt--machines))

<a id="nestedatt--filters"></a>
### Nested Schema for `filters`

Optional:

- `cluster` (String) The cluster to filter machines by. Only machines in the specified cluster will be returned.
- `connected` (Boolean) Whether to filter machines by their connected status. If true, only connected machines will be returned. If false, only disconnected machines will be returned.
- `id` (String) The ID to filter machines by. Only the machine with the specified ID will be returned.
- `image_labels` (List of String) A list of image label keys to filter machines by. Only machines with matching label keys will be returned.
- `labels` (Map of String) A map of labels to filter machines by. Only machines with matching labels will be returned.
- `maintenance` (Boolean) Whether to filter machines by their maintenance status. If true, only machines in maintenance mode will be returned. If false, only machines not in maintenance mode will be returned.
- `role` (String) The role to filter machines by. Only machines with the specified role will be returned.


<a id="nestedatt--machines"></a>
### Nested Schema for `machines`

Read-Only:

- `cluster` (String)
- `connected` (Boolean)
- `created` (String)
- `hardware` (Object) (see [below for nested schema](#nestedobjatt--machines--hardware))
- `id` (String)
- `imagelabels` (Map of String)
- `labels` (Map of String)
- `maintenance` (Boolean)
- `managementaddress` (String)
- `namespace` (String)
- `network` (Object) (see [below for nested schema](#nestedobjatt--machines--network))
- `phase` (String)
- `role` (String)
- `talosversion` (String)
- `type` (String)
- `updated` (String)

<a id="nestedobjatt--machines--hardware"></a>
### Nested Schema for `machines.hardware`

Read-Only:

- `arch` (String)
- `blockdevices` (List of Object) (see [below for nested schema](#nestedobjatt--machines--hardware--blockdevices))
- `memorymodules` (List of Object) (see [below for nested schema](#nestedobjatt--machines--hardware--memorymodules))
- `processors` (List of Object) (see [below for nested schema](#nestedobjatt--machines--hardware--processors))

<a id="nestedobjatt--machines--hardware--blockdevices"></a>
### Nested Schema for `machines.hardware.blockdevices`

Read-Only:

- `buspath` (String)
- `linuxname` (String)
- `model` (String)
- `name` (String)
- `readonly` (Boolean)
- `serial` (String)
- `size` (Number)
- `systemdisk` (Boolean)
- `transport` (String)
- `type` (String)
- `uuid` (String)
- `wwid` (String)


<a id="nestedobjatt--machines--hardware--memorymodules"></a>
### Nested Schema for `machines.hardware.memorymodules`

Read-Only:

- `description` (String)
- `sizemb` (Number)


<a id="nestedobjatt--machines--hardware--processors"></a>
### Nested Schema for `machines.hardware.processors`

Read-Only:

- `corecount` (Number)
- `description` (String)
- `frequency` (Number)
- `manufacturer` (String)
- `threadcount` (Number)



<a id="nestedobjatt--machines--network"></a>
### Nested Schema for `machines.network`

Read-Only:

- `addresses` (List of String)
- `domainname` (String)
- `hostname` (String)
