---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "omni_cluster_template Data Source - omni"
subcategory: ""
description: |-
  Creates a machine template to use within a cluster template.
---

# omni_cluster_template (Data Source)

Creates a machine template to use within a cluster template.

## Example Usage

```terraform
# Copyright (c) HashiCorp, Inc.

data "omni_cluster_template" "example" {
  name = "my-cluster"
  kubernetes = {
    version = "1.34.3"
  }
  talos = {
    version = "1.11.1"
  }
  labels = {
    "beep" = "boop"
  }
  annotations = {
    "example.io/example" = "beep-boop"
  }
  features = {
    disk_encryption                = false
    enable_workload_proxy          = false
    use_embedded_discovery_service = false
    backup_configuration = {
      interval = "5m"
    }
  }
  patches = [
    {
      id_override = "my-cluster-configpatch.yaml"
      annotations = {
        name = "my-cluster-configpatch"
      }
      inline = <<EOT
cluster:
  network:
    cni:
      name: none
  proxy:
    disabled: true
  allowSchedulingOnControlPlanes: true
machine:
  install:
    diskSelector:
      size: '>15GB'
      EOT
    }
  ]
  system_extensions = [
    "siderolabs/qemu-guest-agent",
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `kubernetes` (Attributes) Kubernetes options for cluster. (see [below for nested schema](#nestedatt--kubernetes))
- `talos` (Attributes) Talos options for cluster. (see [below for nested schema](#nestedatt--talos))

### Optional

- `annotations` (Map of String) Labels to add to the machine.
- `features` (Attributes) Setings to enable or disable different cluster features. (see [below for nested schema](#nestedatt--features))
- `labels` (Map of String) Labels to add to the machine.
- `name` (String) Name (ID) of the machine. Only required on Worker machine sets.
- `patches` (Attributes List) Machine-specific patches. (see [below for nested schema](#nestedatt--patches))
- `system_extensions` (List of String) List of system extensions installed to machine.

### Read-Only

- `id` (String) ID of the resource.
- `kind` (String) Kind of Omni machine set.
- `yaml` (String) Rendered YAML cluster machine template.

<a id="nestedatt--kubernetes"></a>
### Nested Schema for `kubernetes`

Required:

- `version` (String) Kubernetes verions of cluster.


<a id="nestedatt--talos"></a>
### Nested Schema for `talos`

Required:

- `version` (String) Talos verions of cluster.


<a id="nestedatt--features"></a>
### Nested Schema for `features`

Optional:

- `backup_configuration` (Attributes) (see [below for nested schema](#nestedatt--features--backup_configuration))
- `disk_encryption` (Boolean) Setting to enable or disable disk encryption.
- `enable_workload_proxy` (Boolean) Setting to enable or disable workload proxy functionality.
- `use_embedded_discovery_service` (Boolean) Setting to enable or disable using the embedded discovery service.

<a id="nestedatt--features--backup_configuration"></a>
### Nested Schema for `features.backup_configuration`

Optional:

- `interval` (String)



<a id="nestedatt--patches"></a>
### Nested Schema for `patches`

Optional:

- `annotations` (Map of String) The annotations of the patch.
- `file` (String) The file path to use as input for the patch.
- `id_override` (String) The name (ID) of the patch.
- `inline` (String) The inline patch as YAML.
- `labels` (Map of String) The labels of the patch.
